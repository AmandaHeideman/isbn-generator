<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
    <title>ISBN-generator</title>
</head>

<body>
    <div class="App container text-center">
        <form onSubmit="return confirm('Du genererar nu ett nytt ISBN')" action="/" method="POST">
            <div class="form-group mt-5">
                <h2>ISBN-generator</h2>
                <input type="text" id="isbn" value="<%= isbn %>" />
            </div>
            <br />
            <button class="btn btn-primary" type="submit">Generera nästa ISBN</button>
            <p class=<%=isbn ? "" : "d-none" %>><%= isbn %> markeras nu som använd</p>
        </form>
        <button class="btn btn-primary m-3" onclick="copyIsbn()">Kopiera ISBN</button>
        <br />
        <p>Ångrar du ett ISBN? <a href='/undo'>Klicka här</a></p>
    </div>
    <script>
        function copyIsbn() {
            let copyText = document.getElementById("isbn");
            copyText.select();
            copyText.setSelectionRange(0, 99999); 
            navigator.clipboard.writeText(copyText.value);

            alert("Kopierat: " + copyText.value);
        }
    </script>
</body>

</html>